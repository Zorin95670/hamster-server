import{H as B,p as q,I as P,c as r,h as o,J as z,g as N,r as x,K as Q,L as M,M as j,o as L,N as I,l as f,m as h,n as R,Q as U}from"./index.187af2f5.js";import{b as A}from"./format.865294d5.js";import{Q as D}from"./QPage.3c61cbd4.js";const F={...B,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},g=50,S=2*g,_=S*Math.PI,T=Math.round(_*1e3)/1e3;var V=q({name:"QCircularProgress",props:{...F,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:s}){const{proxy:{$q:c}}=N(),i=P(e),d=r(()=>{const a=(c.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(c.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-a}deg)`:`rotate3d(0, 0, 1, ${a-90}deg)`}}),l=r(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),t=r(()=>S/(1-e.thickness/2)),u=r(()=>`${t.value/2} ${t.value/2} ${t.value} ${t.value}`),v=r(()=>A(e.value,e.min,e.max)),C=r(()=>e.max-e.min),m=r(()=>e.thickness/2*t.value),b=r(()=>{const a=(e.max-v.value)/C.value,n=e.rounded===!0&&v.value<e.max&&a<.25?m.value/2*(1-a/.25):0;return _*a+n});function k({thickness:a,offset:n,color:y,cls:w,rounded:$}){return o("circle",{class:"q-circular-progress__"+w+(y!==void 0?` text-${y}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":a,"stroke-dasharray":T,"stroke-dashoffset":n,"stroke-linecap":$,cx:t.value,cy:t.value,r:g})}return()=>{const a=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&a.push(o("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:g-m.value/2,cx:t.value,cy:t.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&a.push(k({cls:"track",thickness:m.value,offset:0,color:e.trackColor})),a.push(k({cls:"circle",thickness:m.value,offset:b.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const n=[o("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:u.value,"aria-hidden":"true"},a)];return e.showValue===!0&&n.push(o("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},s.default!==void 0?s.default():[o("div",v.value)])),o("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},z(s.internal,n))}}});const K={__name:"LoginPage",setup(e){const s=x("https://accounts.google.com/o/oauth2/auth?client_id=611260461452-bukvcslfhhs733ljpjq0uj0fbfnd8nj7.apps.googleusercontent.com&redirect_uri=https://localhost:9000/&scope=openid profile email&response_type=code"),c=Q(),i=M(),d=j(),l=x(!1);return L(async()=>{const t=new URL(window.location.href).searchParams.get("code");if(i.exists){await d.push("/activities");return}!t||(l.value=!0,I.post("/oauth",{code:t}).then(u=>(c.updateUser(u.data.user),i.updateToken(u.data.token),d.push("/activities"))).finally(()=>{l.value=!1}))}),(t,u)=>(f(),h(D,{class:"flex flex-center"},{default:R(()=>[l.value?(f(),h(V,{key:1,indeterminate:""})):(f(),h(U,{key:0,href:s.value,label:"Login with google"},null,8,["href"]))]),_:1}))}};export{K as default};
